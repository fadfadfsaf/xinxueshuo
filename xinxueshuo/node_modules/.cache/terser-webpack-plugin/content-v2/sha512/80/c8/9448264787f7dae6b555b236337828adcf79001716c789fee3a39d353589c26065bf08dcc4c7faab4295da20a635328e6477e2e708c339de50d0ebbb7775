{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{22:function(t,s){throw new Error(\"Module parse failed: Unexpected token (105:0)\\nFile was processed with these loaders:\\n * ./node_modules/vue-loader/lib/index.js\\nYou may need an additional loader to handle the result of these loaders.\\n| \\n| \\n> .bodys\\n|   height 100%\\n|   background-color #d9d9d9\")},25:function(t,s,e){\"use strict\";var i=e(22);e.n(i).a},28:function(t,s,e){\"use strict\";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"div\",{staticClass:\"bodys\"},[e(\"div\",{staticClass:\"list\"},t._l(t.products,(function(s){return e(\"div\",{key:s.id,staticClass:\"detail\"},[e(\"img\",{attrs:{src:s.coverUrl}}),t._v(\" \"),e(\"div\",{staticClass:\"desc\"},[e(\"span\",{staticClass:\"text-desc\"},[t._v(t._s(s.desc))]),t._v(\" \"),e(\"div\",{staticClass:\"dis\"},[s.discount?e(\"span\",[t._v(t._s(s.price*t.discount/100)+\"元\")]):e(\"span\",[t._v(t._s(s.price)+\"元\")])]),t._v(\" \"),e(\"div\",{staticClass:\"origin\"},[s.discount?e(\"span\",[t._v(\"原价:\"+t._s(s.price)+\"元\")]):e(\"span\",[t._v(\"此商品不参与优惠\")])]),t._v(\" \"),e(\"div\",{staticClass:\"label\"},[e(\"p\",{staticClass:\"buy_num\"},[t._v(\"购买数量:\")]),t._v(\" \"),e(\"button\",{staticClass:\"btn_minute\",on:{click:function(e){return t.sub(s)}}},[t._v(\"-\")]),t._v(\" \"),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:s.total,expression:\"item.total\"}],attrs:{type:\"text\",value:\"0\",size:\"1\"},domProps:{value:s.total},on:{input:function(e){e.target.composing||t.$set(s,\"total\",e.target.value)}}}),t._v(\" \"),e(\"button\",{staticClass:\"btn_add\",on:{click:function(e){return t.add(s)}}},[t._v(\"+\")])])])])})),0),t._v(\" \"),e(\"div\",{staticClass:\"footer\"},[e(\"div\",{staticClass:\"total\"},[e(\"span\",{staticClass:\"money\"},[t._v(\"总计:\"+t._s(t.money)+\" 元\")]),t._v(\" \"),e(\"span\",{staticClass:\"sub\"},[t._v(\"已减:\"+t._s(t.subMoney)+\" 元\")])]),t._v(\" \"),e(\"div\",{staticClass:\"pay\",on:{click:t.pay}},[t._v(\"去付款\")])])])};i._withStripped=!0;var o=[100,95,80],a={name:\"CartList\",data:function(){return{discount:o[this.$store.getters.userInfo.vipLevel],products:[],count:0,money:0,subMoney:0}},created:function(){var t=this;this.products=this.$store.getters.cartInfo;var s=0;this.products.filter((function(e){s+=e.price*e.total,e.discount?t.money=(parseFloat(t.money)+parseFloat(e.price*e.total*t.discount/100)).toFixed(2):t.money=(parseFloat(t.money)+parseFloat(e.price*e.total)).toFixed(2)})),this.subMoney=(s-this.money).toFixed(2)},methods:{pay:function(){console.log(\"付款成功\"),alert(\"付款成功\")},sub:function(t){if(t.discount){this.money=(this.money-t.price*this.discount/100).toFixed(2);var s=(t.price-t.price*this.discount/100).toFixed(2);this.subMoney=(parseFloat(this.subMoney)-parseFloat(s)).toFixed(2)}else this.money=(this.money-t.price).toFixed(2);var e=this.$store.state.products.cartInfo;e.filter((function(s,i){s.id===t.id&&(t.total>1?s.total-=1:(console.log(\"这个商品不买了...\"),e.splice(i,1)))}))},add:function(t){if(t.discount){this.money=(parseFloat(this.money)+parseFloat(t.price*this.discount/100)).toFixed(2);var s=(parseFloat(t.price)-parseFloat(t.price*this.discount/100)).toFixed(2);this.subMoney=(parseFloat(this.subMoney)+parseFloat(s)).toFixed(2)}else this.money=(parseFloat(this.money)+parseFloat(t.price)).toFixed(2);this.$store.state.products.cartInfo.filter((function(s){s.id===t.id&&(s.total+=1)}))}}},n=(e(25),e(2)),r=Object(n.a)(a,i,[],!1,null,\"9a7d18d6\",null);r.options.__file=\"src/views/index/cartList.vue\";s.default=r.exports}}]);","extractedComments":[]}